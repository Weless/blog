{"remainingRequest":"/Users/joey/joey/go_project/blog/blog_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/joey/joey/go_project/blog/blog_front/src/components/mainPart/Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/joey/joey/go_project/blog/blog_front/src/components/mainPart/Article.vue","mtime":1592388163106},{"path":"/Users/joey/joey/go_project/blog/blog_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joey/joey/go_project/blog/blog_front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/joey/joey/go_project/blog/blog_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joey/joey/go_project/blog/blog_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIi4vUGFnaW5hdGlvbi52dWUiCmV4cG9ydCBkZWZhdWx0IHsKCiAgbmFtZTogIkFydGljbGUiLAogIGNvbXBvbmVudHM6ewogICAgUGFnaW5hdGlvbgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFydGljbGVMaXN0OiBbXSwKICAgICAgcGFuaWdhdGlvbkRhdGE6ewogICAgICAgIHRvdGFsOjAsCiAgICAgICAgcGFnZVNpemU6NSwKICAgICAgICBjdXJyZW50UGFnZToxLAogICAgICAgIGhhbmRsZVNpemVDaGFuZ2U6dmFsPT57CiAgICAgICAgICBjb25zb2xlLmxvZyh2YWwpCiAgICAgICAgfSwKICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOnZhbD0+ewogICAgICAgICAgY29uc29sZS5sb2codmFsKQogICAgICAgICAgdGhpcy5wYW5pZ2F0aW9uRGF0YS5jdXJyZW50UGFnZSA9IHZhbAogICAgICAgICAgdGhpcy4kaHR0cC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvYXJ0aWNsZXMiLHtwYXJhbXM6e3BhZ2VOdW06dmFsfX0pLnRoZW4oCiAgICAgICAgICAgIHJlcz0+ewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICB0aGlzLmFydGljbGVMaXN0ID0gcmVzLmRhdGEuZGF0YS5hcnRpY2xlTGlzdAogICAgICAgICAgICB9CiAgICAgICAgICApLmNhdGNoKAogICAgICAgICAgICBlcnI9PnsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgICAgIH0KICAgICAgICAgICkKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFsbEFydGljbGVzOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy4kaHR0cC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvYXJ0aWNsZXMiLHtwYXJhbXM6e3BhZ2VOdW06MX19KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSByZXMuZGF0YS5kYXRhLmFydGljbGVMaXN0OwogICAgICB9KTsKICAgICAgCiAgICB9LAogICAgZGVhbFdpdGhUaW1lOmZ1bmN0aW9uKHQpewogICAgICB0ID0gdC5zbGljZSgwLC0xKQogICAgICB0ID0gdC5yZXBsYWNlKCJUIiwiICIpCiAgICAgIHJldHVybiB0CiAgICB9LAogICAgc2hvd1BhZ2luYXRpb24oKXsKICAgICAgdGhpcy4kaHR0cC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvdG90YWxMZW5ndGgiKS50aGVuKAogICAgICAgIHJlcz0+ewogICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgICAgdGhpcy5wYW5pZ2F0aW9uRGF0YS50b3RhbCA9IHJlcy5kYXRhLmRhdGEudG90YWwKICAgICAgICB9CiAgICAgICkuY2F0Y2goZXJyPT57CiAgICAgICAgY29uc29sZS5sb2coZXJyKSAgICAgICAgCiAgICAgIH0pCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy8gdmFyIHBhdHRlcm5fYXJjaGl2ZSAgPSBgXFwvYXJjaGl2ZVxcL1xcZHs0fVxcL1xcZHsxLDJ9YCAvLyDljLnphY1hcmNoaXZl6Lev55SxCiAgICBpZiAodGhpcy4kcm91dGUucGF0aC5pbmRleE9mKCIvY2F0ZWdvcmllcy8iKSE9LTEpewogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZSkKICAgICAgdmFyIHVybCA9ICJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL2NhdGVnb3JpZXMvIgogICAgICB2YXIgY2lkID0gdGhpcy4kcm91dGUucGFyYW1zLmNpZAogICAgICB0aGlzLiRodHRwLmdldCh1cmwrY2lkKQogICAgICAudGhlbihyZXM9PnsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgdGhpcy5hcnRpY2xlTGlzdCA9IHJlcy5kYXRhLmRhdGEuYXJ0aWNsZUxpc3QKICAgICAgfSkuY2F0Y2goZXJyPT57CiAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgIC8vIHRoaXMuJHJvdXRlLnB1c2goIiIpCiAgICAgIH0pCiAgICB9ZWxzZSBpZih0aGlzLiRyb3V0ZS5wYXRoLmluZGV4T2YoIi9hcmNoaXZlLyIpIT0tMSl7CiAgICAgIHZhciBhcmNoaXZlX3VybCA9ICJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL2FyY2hpdmUvIgogICAgICB2YXIgeWVhciA9IHRoaXMuJHJvdXRlLnBhcmFtcy55ZWFyCiAgICAgIHZhciBtb250aCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5tb250aAogICAgICB0aGlzLiRodHRwLmdldChhcmNoaXZlX3VybCt5ZWFyKyIvIittb250aCkKICAgICAgLnRoZW4ocmVzPT57CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSByZXMuZGF0YS5kYXRhLmFydGljbGVMaXN0CiAgICAgIH0pLmNhdGNoKGVycj0+ewogICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAvLyB0aGlzLiRyb3V0ZS5wdXNoKCIiKQogICAgICB9KQogICAgfWVsc2V7CiAgICAgICAgdGhpcy5nZXRBbGxBcnRpY2xlcygpOwogICAgICAgIHRoaXMuc2hvd1BhZ2luYXRpb24oKQogICAgfQogICAgCiAgICAKICB9Cn07Cg=="},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"Article.vue","sourceRoot":"src/components/mainPart","sourcesContent":["<template>\n  <div>\n    <article class=\"post post-4\" v-for=\"(article,index) in articleList\" :key=\"'article-'+index\">\n      <header class=\"entry-header\">\n        <h1 class=\"entry-title\">\n          <a :href=\"'/article/' + article.ArticleId\">{{article.Title}}</a>\n        </h1>\n        <div class=\"entry-meta\">\n          <span class=\"post-category\">\n            <a href=\"javascript:void(0);\">{{ article.Name }}</a>\n          </span>\n          <span class=\"post-date\">\n            <a href=\"javascript:void(0);\">\n              <time class=\"entry-date\" datetime=\"20121109\" v-html=\"dealWithTime(article.CreateTime)\"></time>\n            </a>\n          </span>\n          <!-- <span class=\"post-author\">\n          <a href=\"#\">追梦人物</a>\n          </span>-->\n          <span class=\"comments-link\">\n            <a href=\"javascript:void(0);\">{{ article.CommentCount}} 评论</a>\n          </span>\n          <span class=\"views-count\">\n            <a href=\"javascript:void(0);\">{{ article.ViewCount}} 阅读</a>\n          </span>\n        </div>\n      </header>\n      <div class=\"entry-content clearfix\">\n        <p>{{ article.Summary}}</p>\n        <div class=\"read-more cl-effect-14\">\n          <a :href=\"'/article/' + article.ArticleId\" class=\"more-link\">\n            继续阅读\n            <span class=\"meta-nav\">→</span>\n          </a>\n        </div>\n      </div>\n    </article>\n    <pagination :paginationData=\"panigationData\"></pagination>\n  </div>\n  \n</template>\n\n<script>\nimport Pagination from \"./Pagination.vue\"\nexport default {\n\n  name: \"Article\",\n  components:{\n    Pagination\n  },\n  data() {\n    return {\n      articleList: [],\n      panigationData:{\n        total:0,\n        pageSize:5,\n        currentPage:1,\n        handleSizeChange:val=>{\n          console.log(val)\n        },\n        handleCurrentChange:val=>{\n          console.log(val)\n          this.panigationData.currentPage = val\n          this.$http.get(\"http://localhost:8000/api/articles\",{params:{pageNum:val}}).then(\n            res=>{\n              console.log(res)\n              this.articleList = res.data.data.articleList\n            }\n          ).catch(\n            err=>{\n              console.log(err)\n            }\n          )\n        }\n      }\n    }\n  },\n  methods: {\n    getAllArticles: function() {\n      this.$http.get(\"http://localhost:8000/api/articles\",{params:{pageNum:1}}).then(res => {\n        console.log(res)\n        this.articleList = res.data.data.articleList;\n      });\n      \n    },\n    dealWithTime:function(t){\n      t = t.slice(0,-1)\n      t = t.replace(\"T\",\" \")\n      return t\n    },\n    showPagination(){\n      this.$http.get(\"http://localhost:8000/api/totalLength\").then(\n        res=>{\n          // console.log(res)\n          this.panigationData.total = res.data.data.total\n        }\n      ).catch(err=>{\n        console.log(err)        \n      })\n    }\n  },\n  created() {\n    // var pattern_archive  = `\\\\/archive\\\\/\\\\d{4}\\\\/\\\\d{1,2}` // 匹配archive路由\n    if (this.$route.path.indexOf(\"/categories/\")!=-1){\n      // console.log(this.$route)\n      var url = \"http://localhost:8000/api/categories/\"\n      var cid = this.$route.params.cid\n      this.$http.get(url+cid)\n      .then(res=>{\n        // console.log(res)\n        this.articleList = res.data.data.articleList\n      }).catch(err=>{\n        console.log(err)\n        // this.$route.push(\"\")\n      })\n    }else if(this.$route.path.indexOf(\"/archive/\")!=-1){\n      var archive_url = \"http://localhost:8000/api/archive/\"\n      var year = this.$route.params.year\n      var month = this.$route.params.month\n      this.$http.get(archive_url+year+\"/\"+month)\n      .then(res=>{\n        // console.log(res)\n        this.articleList = res.data.data.articleList\n      }).catch(err=>{\n        console.log(err)\n        // this.$route.push(\"\")\n      })\n    }else{\n        this.getAllArticles();\n        this.showPagination()\n    }\n    \n    \n  }\n};\n</script>"]}]}