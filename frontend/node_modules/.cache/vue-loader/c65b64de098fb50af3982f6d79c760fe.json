{"remainingRequest":"/Users/joey/joey/vue-learning/blog_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/joey/joey/vue-learning/blog_front/src/components/mainPart/Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/joey/joey/vue-learning/blog_front/src/components/mainPart/Article.vue","mtime":1591600766576},{"path":"/Users/joey/joey/vue-learning/blog_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joey/joey/vue-learning/blog_front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/joey/joey/vue-learning/blog_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joey/joey/vue-learning/blog_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIi4vUGFnaW5hdGlvbi52dWUiCmV4cG9ydCBkZWZhdWx0IHsKCiAgbmFtZTogIkFydGljbGUiLAogIGNvbXBvbmVudHM6ewogICAgUGFnaW5hdGlvbgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFydGljbGVMaXN0OiBbXSwKICAgICAgcGFuaWdhdGlvbkRhdGE6ewogICAgICAgIHRvdGFsOjAsCiAgICAgICAgcGFnZVNpemU6NSwKICAgICAgICBjdXJyZW50UGFnZToxLAogICAgICAgIGhhbmRsZVNpemVDaGFuZ2U6dmFsPT57CiAgICAgICAgICBjb25zb2xlLmxvZyh2YWwpCiAgICAgICAgfSwKICAgICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOnZhbD0+ewogICAgICAgICAgLy8gY29uc29sZS5sb2codmFsKQogICAgICAgICAgdGhpcy5wYW5pZ2F0aW9uRGF0YS5jdXJyZW50UGFnZSA9IHZhbAogICAgICAgICAgdGhpcy4kaHR0cC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvYXJ0aWNsZXMiLHtwYXJhbXM6e3BhZ2VOdW06dmFsfX0pLnRoZW4oCiAgICAgICAgICAgIHJlcz0+ewogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICB0aGlzLmFydGljbGVMaXN0ID0gcmVzLmRhdGEuYXJ0aWNsZUxpc3QKICAgICAgICAgICAgfQogICAgICAgICAgKS5jYXRjaCgKICAgICAgICAgICAgZXJyPT57CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRBbGxBcnRpY2xlczogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuJGh0dHAuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvYXBpL2FydGljbGVzIix7cGFyYW1zOntwYWdlTnVtOjF9fSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICB0aGlzLmFydGljbGVMaXN0ID0gcmVzLmRhdGEuYXJ0aWNsZUxpc3Q7CiAgICAgIH0pOwogICAgICAKICAgIH0sCiAgICBkZWFsV2l0aFRpbWU6ZnVuY3Rpb24odCl7CiAgICAgIHQgPSB0LnNsaWNlKDAsLTEpCiAgICAgIHQgPSB0LnJlcGxhY2UoIlQiLCIgIikKICAgICAgcmV0dXJuIHQKICAgIH0sCiAgICBzaG93UGFnaW5hdGlvbigpewogICAgICB0aGlzLiRodHRwLmdldCgiaHR0cDovLzEwNi41NS4xNDUuMTI1OjgwMDAvYXBpL3RvdGFsTGVuZ3RoIikudGhlbigKICAgICAgICByZXM9PnsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgIHRoaXMucGFuaWdhdGlvbkRhdGEudG90YWwgPSByZXMuZGF0YS50b3RhbAogICAgICAgIH0KICAgICAgKS5jYXRjaChlcnI9PnsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpICAgICAgICAKICAgICAgfSkKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyB2YXIgcGF0dGVybl9hcmNoaXZlICA9IGBcXC9hcmNoaXZlXFwvXFxkezR9XFwvXFxkezEsMn1gIC8vIOWMuemFjWFyY2hpdmXot6/nlLEKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoLmluZGV4T2YoIi9jYXRlZ29yaWVzLyIpIT0tMSl7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlKQogICAgICB2YXIgdXJsID0gImh0dHA6Ly8xMDYuNTUuMTQ1LjEyNTo4MDAwL2FwaS9jYXRlZ29yaWVzLyIKICAgICAgdmFyIGNpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jaWQKICAgICAgdGhpcy4kaHR0cC5nZXQodXJsK2NpZCkKICAgICAgLnRoZW4ocmVzPT57CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSByZXMuZGF0YS5hcnRpY2xlTGlzdAogICAgICB9KS5jYXRjaChlcnI9PnsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpCiAgICAgICAgLy8gdGhpcy4kcm91dGUucHVzaCgiIikKICAgICAgfSkKICAgIH1lbHNlIGlmKHRoaXMuJHJvdXRlLnBhdGguaW5kZXhPZigiL2FyY2hpdmUvIikhPS0xKXsKICAgICAgdmFyIGFyY2hpdmVfdXJsID0gImh0dHA6Ly8xMDYuNTUuMTQ1LjEyNTo4MDAwL2FwaS9hcmNoaXZlLyIKICAgICAgdmFyIHllYXIgPSB0aGlzLiRyb3V0ZS5wYXJhbXMueWVhcgogICAgICB2YXIgbW9udGggPSB0aGlzLiRyb3V0ZS5wYXJhbXMubW9udGgKICAgICAgdGhpcy4kaHR0cC5nZXQoYXJjaGl2ZV91cmwreWVhcisiLyIrbW9udGgpCiAgICAgIC50aGVuKHJlcz0+ewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcykKICAgICAgICB0aGlzLmFydGljbGVMaXN0ID0gcmVzLmRhdGEuYXJ0aWNsZUxpc3QKICAgICAgfSkuY2F0Y2goZXJyPT57CiAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgIC8vIHRoaXMuJHJvdXRlLnB1c2goIiIpCiAgICAgIH0pCiAgICB9ZWxzZXsKICAgICAgICB0aGlzLmdldEFsbEFydGljbGVzKCk7CiAgICAgICAgdGhpcy5zaG93UGFnaW5hdGlvbigpCiAgICB9CiAgICAKICAgIAogIH0KfTsK"},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"Article.vue","sourceRoot":"src/components/mainPart","sourcesContent":["<template>\n  <div>\n    <article class=\"post post-4\" v-for=\"(article,index) in articleList\" :key=\"'article-'+index\">\n      <header class=\"entry-header\">\n        <h1 class=\"entry-title\">\n          <a href=\"views/single.html\">{{article.Title}}</a>\n        </h1>\n        <div class=\"entry-meta\">\n          <span class=\"post-category\">\n            <a href=\"#\">{{ article.Name }}</a>\n          </span>\n          <span class=\"post-date\">\n            <a href=\"#\">\n              <time class=\"entry-date\" datetime=\"20121109\" v-html=\"dealWithTime(article.CreateTime)\"></time>\n            </a>\n          </span>\n          <!-- <span class=\"post-author\">\n          <a href=\"#\">追梦人物</a>\n          </span>-->\n          <span class=\"comments-link\">\n            <a href=\"#\">{{ article.CommentCount}} 评论</a>\n          </span>\n          <span class=\"views-count\">\n            <a href=\"#\">{{ article.ViewCount}} 阅读</a>\n          </span>\n        </div>\n      </header>\n      <div class=\"entry-content clearfix\">\n        <p>{{ article.Summary}}</p>\n        <div class=\"read-more cl-effect-14\">\n          <a :href=\"'/article/' + article.ArticleId\" class=\"more-link\">\n            继续阅读\n            <span class=\"meta-nav\">→</span>\n          </a>\n        </div>\n      </div>\n    </article>\n    <pagination :paginationData=\"panigationData\"></pagination>\n  </div>\n  \n</template>\n\n<script>\nimport Pagination from \"./Pagination.vue\"\nexport default {\n\n  name: \"Article\",\n  components:{\n    Pagination\n  },\n  data() {\n    return {\n      articleList: [],\n      panigationData:{\n        total:0,\n        pageSize:5,\n        currentPage:1,\n        handleSizeChange:val=>{\n          console.log(val)\n        },\n        handleCurrentChange:val=>{\n          // console.log(val)\n          this.panigationData.currentPage = val\n          this.$http.get(\"http://localhost:8000/api/articles\",{params:{pageNum:val}}).then(\n            res=>{\n              // console.log(res)\n              this.articleList = res.data.articleList\n            }\n          ).catch(\n            err=>{\n              console.log(err)\n            }\n          )\n        }\n      }\n    }\n  },\n  methods: {\n    getAllArticles: function() {\n      this.$http.get(\"http://localhost:8000/api/articles\",{params:{pageNum:1}}).then(res => {\n        console.log(res)\n        this.articleList = res.data.articleList;\n      });\n      \n    },\n    dealWithTime:function(t){\n      t = t.slice(0,-1)\n      t = t.replace(\"T\",\" \")\n      return t\n    },\n    showPagination(){\n      this.$http.get(\"http://106.55.145.125:8000/api/totalLength\").then(\n        res=>{\n          // console.log(res)\n          this.panigationData.total = res.data.total\n        }\n      ).catch(err=>{\n        console.log(err)        \n      })\n    }\n  },\n  created() {\n    // var pattern_archive  = `\\\\/archive\\\\/\\\\d{4}\\\\/\\\\d{1,2}` // 匹配archive路由\n    if (this.$route.path.indexOf(\"/categories/\")!=-1){\n      // console.log(this.$route)\n      var url = \"http://106.55.145.125:8000/api/categories/\"\n      var cid = this.$route.params.cid\n      this.$http.get(url+cid)\n      .then(res=>{\n        // console.log(res)\n        this.articleList = res.data.articleList\n      }).catch(err=>{\n        console.log(err)\n        // this.$route.push(\"\")\n      })\n    }else if(this.$route.path.indexOf(\"/archive/\")!=-1){\n      var archive_url = \"http://106.55.145.125:8000/api/archive/\"\n      var year = this.$route.params.year\n      var month = this.$route.params.month\n      this.$http.get(archive_url+year+\"/\"+month)\n      .then(res=>{\n        // console.log(res)\n        this.articleList = res.data.articleList\n      }).catch(err=>{\n        console.log(err)\n        // this.$route.push(\"\")\n      })\n    }else{\n        this.getAllArticles();\n        this.showPagination()\n    }\n    \n    \n  }\n};\n</script>"]}]}