{"remainingRequest":"/Users/joey/joey/go_project/blog/blog_front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/joey/joey/go_project/blog/blog_front/src/components/mainPart/Article.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/joey/joey/go_project/blog/blog_front/src/components/mainPart/Article.vue","mtime":1592549097823},{"path":"/Users/joey/joey/go_project/blog/blog_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joey/joey/go_project/blog/blog_front/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joey/joey/go_project/blog/blog_front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/joey/joey/go_project/blog/blog_front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joey/joey/go_project/blog/blog_front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gIi4vUGFnaW5hdGlvbi52dWUiCmltcG9ydCBzZXJ2aWNlIGZyb20gIkAvdXRpbHMvcmVxdWVzdCIKZXhwb3J0IGRlZmF1bHQgewoKICBuYW1lOiAiQXJ0aWNsZSIsCiAgY29tcG9uZW50czp7CiAgICBQYWdpbmF0aW9uCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXJ0aWNsZUxpc3Q6IFtdLAogICAgICBwYW5pZ2F0aW9uRGF0YTp7CiAgICAgICAgdG90YWw6MCwKICAgICAgICBwYWdlU2l6ZTo1LAogICAgICAgIGN1cnJlbnRQYWdlOjEsCiAgICAgICAgaGFuZGxlU2l6ZUNoYW5nZTp2YWw9PnsKICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCkKICAgICAgICB9LAogICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6dmFsPT57CiAgICAgICAgICBjb25zb2xlLmxvZyh2YWwpCiAgICAgICAgICB0aGlzLnBhbmlnYXRpb25EYXRhLmN1cnJlbnRQYWdlID0gdmFsCiAgICAgICAgICBzZXJ2aWNlLmdldCgiL2FydGljbGVzIix7cGFyYW1zOntwYWdlTnVtOnZhbH19KS50aGVuKAogICAgICAgICAgICByZXM9PnsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICAgICAgdGhpcy5hcnRpY2xlTGlzdCA9IHJlcy5kYXRhLmRhdGEuYXJ0aWNsZUxpc3QKICAgICAgICAgICAgfQogICAgICAgICAgKS5jYXRjaCgKICAgICAgICAgICAgZXJyPT57CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKQogICAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRBbGxBcnRpY2xlczogZnVuY3Rpb24oKSB7CiAgICAgIHNlcnZpY2UuZ2V0KCIvYXJ0aWNsZXMiLHtwYXJhbXM6e3BhZ2VOdW06MX19KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKQogICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSByZXMuZGF0YS5kYXRhLmFydGljbGVMaXN0OwogICAgICB9KTsKICAgICAgCiAgICB9LAogICAgZGVhbFdpdGhUaW1lOmZ1bmN0aW9uKHQpewogICAgICB0ID0gdC5zbGljZSgwLC0xKQogICAgICB0ID0gdC5yZXBsYWNlKCJUIiwiICIpCiAgICAgIHJldHVybiB0CiAgICB9LAogICAgc2hvd1BhZ2luYXRpb24oKXsKICAgICAgc2VydmljZS5nZXQoIi90b3RhbExlbmd0aCIpLnRoZW4oCiAgICAgICAgcmVzPT57CiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpCiAgICAgICAgICB0aGlzLnBhbmlnYXRpb25EYXRhLnRvdGFsID0gcmVzLmRhdGEuZGF0YS50b3RhbAogICAgICAgIH0KICAgICAgKS5jYXRjaChlcnI9PnsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpICAgICAgICAKICAgICAgfSkKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyB2YXIgcGF0dGVybl9hcmNoaXZlICA9IGBcXC9hcmNoaXZlXFwvXFxkezR9XFwvXFxkezEsMn1gIC8vIOWMuemFjWFyY2hpdmXot6/nlLEKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoLmluZGV4T2YoIi9jYXRlZ29yaWVzLyIpIT0tMSl7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlKQogICAgICB2YXIgdXJsID0gIi9jYXRlZ29yaWVzLyIKICAgICAgdmFyIGNpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5jaWQKICAgICAgc2VydmljZS5nZXQodXJsK2NpZCkKICAgICAgLnRoZW4ocmVzPT57CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSByZXMuZGF0YS5kYXRhLmFydGljbGVMaXN0CiAgICAgIH0pLmNhdGNoKGVycj0+ewogICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAvLyB0aGlzLiRyb3V0ZS5wdXNoKCIiKQogICAgICB9KQogICAgfWVsc2UgaWYodGhpcy4kcm91dGUucGF0aC5pbmRleE9mKCIvYXJjaGl2ZS8iKSE9LTEpewogICAgICB2YXIgYXJjaGl2ZV91cmwgPSAiL2FyY2hpdmUvIgogICAgICB2YXIgeWVhciA9IHRoaXMuJHJvdXRlLnBhcmFtcy55ZWFyCiAgICAgIHZhciBtb250aCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5tb250aAogICAgICBzZXJ2aWNlLmdldChhcmNoaXZlX3VybCt5ZWFyKyIvIittb250aCkKICAgICAgLnRoZW4ocmVzPT57CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKQogICAgICAgIHRoaXMuYXJ0aWNsZUxpc3QgPSByZXMuZGF0YS5kYXRhLmFydGljbGVMaXN0CiAgICAgIH0pLmNhdGNoKGVycj0+ewogICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAvLyB0aGlzLiRyb3V0ZS5wdXNoKCIiKQogICAgICB9KQogICAgfWVsc2V7CiAgICAgICAgdGhpcy5nZXRBbGxBcnRpY2xlcygpOwogICAgICAgIHRoaXMuc2hvd1BhZ2luYXRpb24oKQogICAgfQogIH0KfTsK"},{"version":3,"sources":["Article.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Article.vue","sourceRoot":"src/components/mainPart","sourcesContent":["<template>\n  <div>\n    <article class=\"post post-4\" v-for=\"(article,index) in articleList\" :key=\"'article-'+index\">\n      <header class=\"entry-header\">\n        <h1 class=\"entry-title\">\n          <a :href=\"'/article/' + article.ArticleId\">{{article.Title}}</a>\n        </h1>\n        <div class=\"entry-meta\">\n          <span class=\"post-category\">\n            <a href=\"javascript:void(0);\">{{ article.Name }}</a>\n          </span>\n          <span class=\"post-date\">\n            <a href=\"javascript:void(0);\">\n              <time class=\"entry-date\" datetime=\"20121109\" v-html=\"dealWithTime(article.CreateTime)\"></time>\n            </a>\n          </span>\n          <!-- <span class=\"post-author\">\n          <a href=\"#\">追梦人物</a>\n          </span>-->\n          <span class=\"comments-link\">\n            <a href=\"javascript:void(0);\">{{ article.CommentCount}} 评论</a>\n          </span>\n          <span class=\"views-count\">\n            <a href=\"javascript:void(0);\">{{ article.ViewCount}} 阅读</a>\n          </span>\n        </div>\n      </header>\n      <div class=\"entry-content clearfix\">\n        <p>{{ article.Summary}}</p>\n        <div class=\"read-more cl-effect-14\">\n          <a :href=\"'/article/' + article.ArticleId\" class=\"more-link\">\n            继续阅读\n            <span class=\"meta-nav\">→</span>\n          </a>\n        </div>\n      </div>\n    </article>\n    <pagination :paginationData=\"panigationData\"></pagination>\n  </div>\n  \n</template>\n\n<script>\nimport Pagination from \"./Pagination.vue\"\nimport service from \"@/utils/request\"\nexport default {\n\n  name: \"Article\",\n  components:{\n    Pagination\n  },\n  data() {\n    return {\n      articleList: [],\n      panigationData:{\n        total:0,\n        pageSize:5,\n        currentPage:1,\n        handleSizeChange:val=>{\n          console.log(val)\n        },\n        handleCurrentChange:val=>{\n          console.log(val)\n          this.panigationData.currentPage = val\n          service.get(\"/articles\",{params:{pageNum:val}}).then(\n            res=>{\n              console.log(res)\n              this.articleList = res.data.data.articleList\n            }\n          ).catch(\n            err=>{\n              console.log(err)\n            }\n          )\n        }\n      }\n    }\n  },\n  methods: {\n    getAllArticles: function() {\n      service.get(\"/articles\",{params:{pageNum:1}}).then(res => {\n        console.log(res)\n        this.articleList = res.data.data.articleList;\n      });\n      \n    },\n    dealWithTime:function(t){\n      t = t.slice(0,-1)\n      t = t.replace(\"T\",\" \")\n      return t\n    },\n    showPagination(){\n      service.get(\"/totalLength\").then(\n        res=>{\n          // console.log(res)\n          this.panigationData.total = res.data.data.total\n        }\n      ).catch(err=>{\n        console.log(err)        \n      })\n    }\n  },\n  created() {\n    // var pattern_archive  = `\\\\/archive\\\\/\\\\d{4}\\\\/\\\\d{1,2}` // 匹配archive路由\n    if (this.$route.path.indexOf(\"/categories/\")!=-1){\n      // console.log(this.$route)\n      var url = \"/categories/\"\n      var cid = this.$route.params.cid\n      service.get(url+cid)\n      .then(res=>{\n        // console.log(res)\n        this.articleList = res.data.data.articleList\n      }).catch(err=>{\n        console.log(err)\n        // this.$route.push(\"\")\n      })\n    }else if(this.$route.path.indexOf(\"/archive/\")!=-1){\n      var archive_url = \"/archive/\"\n      var year = this.$route.params.year\n      var month = this.$route.params.month\n      service.get(archive_url+year+\"/\"+month)\n      .then(res=>{\n        // console.log(res)\n        this.articleList = res.data.data.articleList\n      }).catch(err=>{\n        console.log(err)\n        // this.$route.push(\"\")\n      })\n    }else{\n        this.getAllArticles();\n        this.showPagination()\n    }\n  }\n};\n</script>"]}]}